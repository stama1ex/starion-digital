# üå± Database Seeding Guide

## üìã –¢—Ä–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞ seed'–æ–≤

### **1Ô∏è‚É£ Production Seed (–¢–æ–ª—å–∫–æ —Ç–æ–≤–∞—Ä—ã)**

**–§–∞–π–ª:** `prisma/seed-production.ts`
**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—é –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

```bash
npm run seed:production
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

- ‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ —Ç–æ–≤–∞—Ä—ã (–º–∞–≥–Ω–∏—Ç—ã –∏ —Ç–∞—Ä–µ–ª–∫–∏) –∏–∑ `public/magnets.json` –∏ `public/plates.json`
- ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤, —Ü–µ–Ω—ã –∏ –∑–∞–∫–∞–∑—ã
- ‚ùå –ù–µ —Å–æ–∑–¥–∞—ë—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
- ‚ùå –ù–µ –¥–æ–±–∞–≤–ª—è–µ—Ç –¥–µ–º–æ-–∑–∞–∫–∞–∑—ã

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ß–∏—Å—Ç–∞—è –ë–î, –≥–æ—Ç–æ–≤–∞—è –¥–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

---

### **2Ô∏è‚É£ Production Mode (–¢–æ–≤–∞—Ä—ã + –ë–∞–∑–æ–≤—ã–µ –ø–∞—Ä—Ç–Ω—ë—Ä—ã –∏ —Ü–µ–Ω—ã)**

**–§–∞–π–ª:** `prisma/seed.ts` –≤ —Ä–µ–∂–∏–º–µ `production`
**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –î–ª—è –ø–µ—Ä–≤–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ë–î –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–æ–º

```bash
npm run seed
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

- ‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ —Ç–æ–≤–∞—Ä—ã
- ‚úÖ –°–æ–∑–¥–∞—ë—Ç 3 –±–∞–∑–æ–≤—ã—Ö –ø–∞—Ä—Ç–Ω—ë—Ä–∞ (MagnetPlus, ArtDecor, CasaSuvenir)
- ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –±–∞–∑–æ–≤—ã–µ —Ü–µ–Ω—ã –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤/–º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
- ‚ùå –ù–µ —Å–æ–∑–¥–∞—ë—Ç –∑–∞–∫–∞–∑—ã
- ‚ùå costPrice = 0 (–Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Ä—É—á–Ω—É—é)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ë–î –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å –±–∞–∑–æ–≤—ã–º–∏ –ø–∞—Ä—Ç–Ω—ë—Ä–∞–º–∏

---

### **3Ô∏è‚É£ Demo Mode (–ü–æ–ª–Ω–∞—è —Å–∏–º—É–ª—è—Ü–∏—è —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏)**

**–§–∞–π–ª:** `prisma/seed.ts` –≤ —Ä–µ–∂–∏–º–µ `demo`
**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏ –∏ –≥—Ä–∞—Ñ–∏–∫–æ–≤

```bash
npm run seed:demo
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

- ‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ —Ç–æ–≤–∞—Ä—ã
- ‚úÖ –°–æ–∑–¥–∞—ë—Ç 5 –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤
- ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ü–µ–Ω—ã
- ‚úÖ –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç **50-100 —Ä–∞–Ω–¥–æ–º–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤** –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π
- ‚úÖ –°–æ–∑–¥–∞—ë—Ç **—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏** (20% –∑–∞–∫–∞–∑–æ–≤)
- ‚úÖ –î–æ–±–∞–≤–ª—è–µ—Ç **—á–∞—Å—Ç–∏—á–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏** (30% —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π)
- ‚úÖ –†–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Ä–∞–∑–Ω—ã–µ –¥–∞—Ç—ã –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
- ‚úÖ costPrice = —Ä–∞–Ω–¥–æ–º–Ω–∞—è (10-110 –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–∞—è –ë–î –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üéØ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

| –°—Ü–µ–Ω–∞—Ä–∏–π                      | –ö–æ–º–∞–Ω–¥–∞                   | –§–∞–π–ª                 |
| ----------------------------- | ------------------------- | -------------------- |
| **–ü–µ—Ä–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**      | `npm run seed`            | seed.ts (production) |
| **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏** | `npm run seed:demo`       | seed.ts (demo)       |
| **–û—á–∏—Å—Ç–∫–∞ –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–æ–º** | `npm run seed:production` | seed-production.ts   |
| **–ü–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤**    | `npm run seed`            | seed.ts (production) |

---

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ —Å–∏–¥–∞

### –ü–æ—Å–ª–µ `npm run seed`:

```sql
SELECT COUNT(*) FROM "Product";      -- –î–æ–ª–∂–Ω–æ –±—ã—Ç—å ~100 —Ç–æ–≤–∞—Ä–æ–≤
SELECT COUNT(*) FROM "Partner";      -- –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 3 –ø–∞—Ä—Ç–Ω—ë—Ä–∞
SELECT COUNT(*) FROM "Price";        -- –¶–µ–Ω—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ä—Ç–Ω—ë—Ä–∞
```

### –ü–æ—Å–ª–µ `npm run seed:demo`:

```sql
SELECT COUNT(*) FROM "Order";        -- –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 50-100 –∑–∞–∫–∞–∑–æ–≤
SELECT COUNT(*) FROM "Realization";  -- ~10-20 —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π
SELECT COUNT(*) FROM "RealizationPayment"; -- ~3-6 –ø–ª–∞—Ç–µ–∂–µ–π
```

---

## üîß –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### –ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ–º–æ-–∑–∞–∫–∞–∑–æ–≤

**–§–∞–π–ª:** `seed.ts` –∏–ª–∏ `seed-demo.ts`

```typescript
const orderCount = Math.floor(Math.random() * 50) + 50; // 50-100, –∏–∑–º–µ–Ω–∏ –Ω–∞ –Ω—É–∂–Ω–æ–µ
```

### –ò–∑–º–µ–Ω–∏—Ç—å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

```typescript
if (Math.random() < 0.2) { // 20% —à–∞–Ω—Å, –∏–∑–º–µ–Ω–∏ –Ω–∞ –Ω—É–∂–Ω—ã–π
```

### –ò–∑–º–µ–Ω–∏—Ç—å –±–∞–∑–æ–≤—ã–µ —Ü–µ–Ω—ã

**–§–∞–π–ª:** `seed.ts`

```typescript
const BASE_PRICES: Record<string, number> = {
  MAGNET_MARBLE: 20,
  PLATE_MARBLE: 120,
  // –î–æ–±–∞–≤—å –∏–ª–∏ –∏–∑–º–µ–Ω–∏ —Ü–µ–Ω—ã...
};
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ–µ

1. **costPrice** –≤ –¥–µ–º–æ-—Ä–µ–∂–∏–º–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Ä–∞–Ω–¥–æ–º–Ω–æ (10-110)

   - –í production —Ä–µ–∂–∏–º–µ = 0, –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Ä—É—á–Ω—É—é

2. **–†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ demo —Ä–µ–∂–∏–º–µ**

   - Production —Ä–µ–∂–∏–º –Ω–µ —Ç—Ä–æ–≥–∞–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

3. **–í—Å–µ —Å—Ç–∞—Ä—ã–µ –∑–∞–∫–∞–∑—ã —É–¥–∞–ª—è—é—Ç—Å—è** –ø—Ä–∏ seed'e

   - –ë—ç–∫–∞–ø—å –ë–î –ø–µ—Ä–µ–¥ seed'–æ–º!

4. **Graphql –Ω–µ —á–∏—Å—Ç–∏—Ç—Å—è** –º–µ–∂–¥—É seed'–∞–º–∏
   - –ï—Å–ª–∏ –≤–∏–¥–∏—à—å —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ, –æ—á–∏—Å—Ç–∏ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥

```bash
# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ë–î —Å –±–∞–∑–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
npm run seed

# –ó–∞–ø–æ–ª–Ω–∏—Ç—å –ë–î —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –∑–∞–∫–∞–∑–∞–º–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏
npm run seed:demo

# –¢–æ–ª—å–∫–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç–æ–≤–∞—Ä—ã (–æ—á–∏—Å—Ç–∏—Ç—å –∑–∞–∫–∞–∑—ã, –Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤)
npm run seed:production

# –û—á–∏—Å—Ç–∏—Ç—å –∏ –ø–µ—Ä–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å
npm run seed:demo && npm run build

# –° –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)
SEED_MODE=demo npm run seed
```

---

## üöÄ Production Deployment

```bash
# 1. –û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ
npm run seed

# 2. –í—Ä—É—á–Ω—É—é —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å costPrice –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤ —á–µ—Ä–µ–∑ UI –∏–ª–∏ SQL
UPDATE "Product" SET "costPrice" = <–Ω—É–∂–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ> WHERE ...;

# 3. –°–æ–∑–¥–∞—Ç—å –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤ –∏ —Ü–µ–Ω—ã –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ –ë–î

# 4. Deploy
npm run build
npm start
```
