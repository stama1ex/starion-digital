

=== app\magnets\catalog\magnets-catalog-content.tsx ===
/* eslint-disable @typescript-eslint/no-explicit-any */
'use client';

import Catalog from '@/components/shared/catalog';
import { Product, ProductType, Material } from '@prisma/client';

interface MagnetsCatalogContentProps {
  translations: { magnets_title: string };
  exampleProductNumber: string;
  products: Product[];
  modelUrls: Record<string, string>;
  prices: {
    type: ProductType;
    material: Material;
    price: number;
  }[];
}

export default function MagnetsCatalogContent({
  translations,
  exampleProductNumber,
  products,
  modelUrls,
  prices,
}: MagnetsCatalogContentProps) {
  return (
    <Catalog
      title={translations.magnets_title}
      exampleProductNumber={exampleProductNumber}
      products={products}
      modelUrls={modelUrls}
      prices={prices}
    />
  );
}



=== app\magnets\catalog\page.tsx ===
/* eslint-disable @typescript-eslint/no-explicit-any */
import { Metadata } from 'next';
import { getTranslations } from 'next-intl/server';
import { prisma } from '@/lib/db';
import { getModelUrl } from '@/lib/models';
import { cookies } from 'next/headers';
import MagnetsCatalogContent from './magnets-catalog-content';
import type { ProductType, Material } from '@prisma/client';

type PageProps = {
  params: Promise<{ locale: string }>;
};

// --- SEO ---
export async function generateMetadata({
  params,
}: PageProps): Promise<Metadata> {
  const { locale } = await params;
  const t = await getTranslations({ locale, namespace: 'Catalog' });

  return {
    title: `${t('magnets_title')} - Starion Digital`,
    description: t('meta.description'),
  };
}

// --- PAGE ---
export default async function MagnetsCatalogPage({ params }: PageProps) {
  const { locale } = await params;
  const t = await getTranslations({ locale, namespace: 'Catalog' });

  // –ü–æ–ª—É—á–∞–µ–º —Ç–æ–≤–∞—Ä—ã
  const products = await prisma.product.findMany({
    where: { type: 'MAGNET' },
    orderBy: { number: 'asc' },
  });

  // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ü–µ–Ω—ã –ø–∞—Ä—Ç–Ω—ë—Ä–∞, –µ—Å–ª–∏ –≤–æ—à—ë–ª
  const session = (await cookies()).get('session')?.value;
  let prices: { type: ProductType; material: Material; price: number }[] = [];

  if (session) {
    const raw = await prisma.price.findMany({
      where: { partnerId: parseInt(session) },
      select: { type: true, material: true, price: true },
    });

    prices = raw.map((p) => ({
      type: p.type as ProductType,
      material: p.material as Material,
      price: Number(p.price),
    }));
  }

  // Dropbox –º–æ–¥–µ–ª–∏
  const modelUrls = {
    magnet: await getModelUrl('magnet.glb'),
    plate: await getModelUrl('plate.glb'),
  };

  return (
    <main className="min-h-screen bg-background">
      <MagnetsCatalogContent
        translations={{ magnets_title: t('magnets_title') }}
        products={products}
        modelUrls={modelUrls}
        exampleProductNumber={products[0]?.number}
        prices={prices}
      />
    </main>
  );
}



=== app\plates\catalog\page.tsx ===
/* eslint-disable @typescript-eslint/no-explicit-any */
import { Metadata } from 'next';
import { getTranslations } from 'next-intl/server';
import { prisma } from '@/lib/db';
import { getModelUrl } from '@/lib/models';
import { cookies } from 'next/headers';
import PlatesCatalogContent from './plates-catalog-content';
import type { ProductType, Material } from '@prisma/client';

type PageProps = {
  params: Promise<{ locale: string }>;
};

// --- SEO ---
export async function generateMetadata({
  params,
}: PageProps): Promise<Metadata> {
  const { locale } = await params;
  const t = await getTranslations({ locale, namespace: 'Catalog' });

  return {
    title: `${t('plates_title')} - Starion Digital`,
    description: t('meta.description_plates'),
  };
}

// --- PAGE ---
export default async function PlatesCatalogPage({ params }: PageProps) {
  const { locale } = await params;
  const t = await getTranslations({ locale, namespace: 'Catalog' });

  // –ü–æ–ª—É—á–∞–µ–º —Ç–æ–≤–∞—Ä—ã
  const products = await prisma.product.findMany({
    where: { type: 'PLATE' },
    orderBy: { number: 'asc' },
  });

  // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ü–µ–Ω—ã –ø–∞—Ä—Ç–Ω—ë—Ä–∞
  const session = (await cookies()).get('session')?.value;
  let prices: { type: ProductType; material: Material; price: number }[] = [];

  if (session) {
    const raw = await prisma.price.findMany({
      where: { partnerId: parseInt(session) },
      select: { type: true, material: true, price: true },
    });

    prices = raw.map((p) => ({
      type: p.type as ProductType,
      material: p.material as Material,
      price: Number(p.price),
    }));
  }

  // Dropbox –º–æ–¥–µ–ª–∏
  const modelUrls = {
    magnet: await getModelUrl('magnet.glb'),
    plate: await getModelUrl('plate.glb'),
  };

  return (
    <main className="min-h-screen bg-background">
      <PlatesCatalogContent
        translations={{ plates_title: t('plates_title') }}
        products={products}
        modelUrls={modelUrls}
        exampleProductNumber={products[0]?.number}
        prices={prices}
      />
    </main>
  );
}



=== app\plates\catalog\plates-catalog-content.tsx ===
/* eslint-disable @typescript-eslint/no-explicit-any */
'use client';

import Catalog from '@/components/shared/catalog';
import { Product, ProductType, Material } from '@prisma/client';

interface PlatesCatalogContentProps {
  translations: { plates_title: string };
  exampleProductNumber: string;
  products: Product[];
  modelUrls: Record<string, string>;
  prices: {
    type: ProductType;
    material: Material;
    price: number;
  }[];
}

export default function PlatesCatalogContent({
  translations,
  exampleProductNumber,
  products,
  modelUrls,
  prices,
}: PlatesCatalogContentProps) {
  return (
    <Catalog
      title={translations.plates_title}
      exampleProductNumber={exampleProductNumber}
      products={products}
      modelUrls={modelUrls}
      prices={prices}
    />
  );
}



=== app\contacts\contacts-content.tsx ===
'use client';

import Image from 'next/image';
import { motion } from 'framer-motion';

interface ContactsContentProps {
  translations: {
    title: string;
    description: string;
    contact_title: string;
    phone: string;
    email: string;
    telegram: string;
    instagram: string;
    services_title: string;
    services: {
      ar_souvenirs: string;
      ar_vr_consulting: string;
      souvenir_design: string;
    };
  };
}

export default function ContactsContent({
  translations,
}: ContactsContentProps) {
  return (
    <div className="w-full flex flex-col px-4 md:px-0">
      {/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ + –∫–∞—Ä—Ç–∏–Ω–∫–∞ */}
      <div className="flex flex-col md:flex-row gap-16 items-center w-full">
        <motion.div
          className="flex-1 flex flex-col gap-8"
          initial={{ opacity: 0, x: -50 }}
          animate={{ opacity: 1, x: 0 }}
          transition={{ duration: 0.8, ease: 'easeOut' }}
        >
          <motion.h1
            className="text-4xl !mt-12 !md:mt-0 text-center md:text-start md:text-6xl font-extrabold leading-tight animate-gradient-flow"
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            transition={{ duration: 1, ease: 'easeOut', delay: 0.2 }}
          >
            {translations.title}
          </motion.h1>
          <motion.p
            className="text-center md:text-start text-md md:text-lg font-normal text-muted-foreground max-w-2xl"
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            transition={{ duration: 1, ease: 'easeOut', delay: 0.4 }}
          >
            {translations.description}
          </motion.p>
        </motion.div>

        <motion.div
          className="flex-1 w-full max-w-xl mx-auto flex justify-center"
          initial={{ opacity: 0, x: 100 }}
          animate={{ opacity: 1, x: 0 }}
          transition={{ duration: 1, ease: 'easeOut', delay: 0.2 }}
        >
          <Image
            src="/stamat-yuri.webp"
            alt={translations.title}
            width={400}
            height={400}
            className="rounded-2xl object-cover w-full max-w-xs h-auto"
            priority
          />
        </motion.div>
      </div>

      {/* –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å */}
      <hr className="mb-12 w-full border" />

      {/* –ö–æ–Ω—Ç–∞–∫—Ç—ã + –£—Å–ª—É–≥–∏ */}
      <motion.div
        className="grid grid-cols-1 md:grid-cols-2 gap-12 mt-8"
        initial={{ opacity: 0 }}
        animate={{ opacity: 1 }}
        transition={{ duration: 1, ease: 'easeOut', delay: 0.5 }}
      >
        <div>
          <h2 className="text-2xl font-bold mb-4 text-center md:text-start">
            {translations.contact_title}
          </h2>
          <ul className="space-y-2 text-muted-foreground text-center md:text-start">
            <li>{translations.phone}</li>
            <li>{translations.email}</li>
            <li>{translations.telegram}</li>
            <li>{translations.instagram}</li>
          </ul>
        </div>

        <div>
          <h2 className="text-2xl font-bold mb-4 text-center md:text-start">
            {translations.services_title}
          </h2>
          <ul className="space-y-2 text-muted-foreground text-center md:text-start mb-12">
            <li>{translations.services.ar_souvenirs}</li>
            <li>{translations.services.ar_vr_consulting}</li>
            <li>{translations.services.souvenir_design}</li>
          </ul>
        </div>
      </motion.div>
    </div>
  );
}



=== app\contacts\page.tsx ===
// app/contacts/page.tsx
import { Metadata } from 'next';
import { getTranslations } from 'next-intl/server';
import { Container } from '@/components/shared/container';
import ContactsContent from './contacts-content';

type PageProps = {
  params: Promise<{ locale: string }>; // üëà —É Next.js params –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π
};

// Metadata generation (server-side)
export async function generateMetadata({
  params,
}: PageProps): Promise<Metadata> {
  const { locale } = await params; // üëà –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–µ–º –∏–∑ –ø—Ä–æ–º–∏—Å–∞
  const t = await getTranslations({
    locale,
    namespace: 'ContactsPage',
  });

  return {
    title: t('meta.title'),
    description: t('meta.description'),
    keywords: [
      'Yuri Stamat',
      'Starion Digital contact',
      'AR souvenirs',
      'AR/VR consulting',
      locale === 'ru'
        ? '–ö–æ–Ω—Ç–∞–∫—Ç—ã Starion Digital'
        : locale === 'ro'
          ? 'Contact Starion Digital'
          : 'Starion Digital contact',
    ],
    openGraph: {
      title: `${t('meta.title')} - Contact Starion Digital`,
      description: t('meta.description'),
      url: `https://starion-digital.com/${locale}/contacts`,
      images: [{ url: '/stamat-yuri.webp', width: 400, height: 400 }],
    },
    alternates: {
      canonical: `https://starion-digital.com/${locale}/contacts`,
      languages: {
        ru: `https://starion-digital.com/ru/contacts`,
        en: `https://starion-digital.com/en/contacts`,
        ro: `https://starion-digital.com/ro/contacts`,
      },
    },
    other: {
      'application/ld+json': JSON.stringify({
        '@context': 'https://schema.org',
        '@type': 'Person',
        name: 'Yuri Stamat',
        jobTitle: 'Founder of Starion Digital',
        telephone: '+373 680 33 007',
        email: 'stamat2000@gmail.com',
        url: `https://starion-digital.com/${locale}/contacts`,
        sameAs: [
          'https://t.me/Viar_tech',
          'https://www.instagram.com/magnetar_souvenir',
        ],
      }),
    },
  };
}

export default async function ContactsPage({ params }: PageProps) {
  const { locale } = await params; // üëà –∑–¥–µ—Å—å —Ç–æ–∂–µ await
  const t = await getTranslations({
    locale,
    namespace: 'ContactsPage',
  });

  const translations = {
    title: t('title'),
    description: t('description'),
    contact_title: t('contact_title'),
    phone: t('phone'),
    email: t('email'),
    telegram: t('telegram'),
    instagram: t('instagram'),
    services_title: t('services_title'),
    services: {
      ar_souvenirs: t('services.ar_souvenirs'),
      ar_vr_consulting: t('services.ar_vr_consulting'),
      souvenir_design: t('services.souvenir_design'),
    },
  };

  return (
    <main className="min-h-screen flex items-center bg-background">
      <Container className="w-full">
        <ContactsContent translations={translations} />
      </Container>
    </main>
  );
}



=== app\terms\page.tsx ===
import { Metadata } from 'next';
import { getTranslations } from 'next-intl/server';
import { Container } from '@/components/shared/container';
import TermsContent from './terms-content';

// Define the params type explicitly
interface PageParams {
  locale: string;
}

// Metadata generation (server-side)
export async function generateMetadata({
  params,
}: {
  params: Promise<PageParams>; // Use Promise<PageParams>
}): Promise<Metadata> {
  const resolvedParams = await params; // Await the Promise
  const t = await getTranslations({
    locale: resolvedParams.locale,
    namespace: 'Terms',
  });
  return {
    title: `${t('title')} - Starion Digital`,
    description: t('meta.description'),
    keywords: [
      'Starion Digital terms of use',
      'AR souvenirs terms',
      'website terms',
      resolvedParams.locale === 'ru'
        ? '–£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Starion Digital'
        : resolvedParams.locale === 'ro'
          ? 'Termeni de utilizare Starion Digital'
          : 'Starion Digital terms of use',
    ],
    openGraph: {
      title: `${t('title')} - Starion Digital`,
      description: t('meta.description'),
      url: `https://starion-digital.com/${resolvedParams.locale}/terms`,
      type: 'website',
      images: [
        {
          url: '/og-image-terms.jpg',
          width: 1200,
          height: 630,
          alt: t('title'),
        },
      ],
    },
    twitter: {
      card: 'summary_large_image',
      title: `${t('title')} - Starion Digital`,
      description: t('meta.description'),
      images: ['/og-image-terms.jpg'],
    },
    alternates: {
      canonical: `https://starion-digital.com/${resolvedParams.locale}/terms`,
      languages: {
        ru: `https://starion-digital.com/ru/terms`,
        en: `https://starion-digital.com/en/terms`,
        ro: `https://starion-digital.com/ro/terms`,
      },
    },
    other: {
      'application/ld+json': JSON.stringify({
        '@context': 'https://schema.org',
        '@type': 'WebPage',
        name: t('title'),
        description: t('meta.description'),
        url: `https://starion-digital.com/${resolvedParams.locale}/terms`,
        publisher: {
          '@type': 'Organization',
          name: 'Starion Digital',
          url: 'https://starion-digital.com',
          logo: 'https://starion-digital.com/logo.png',
          contactPoint: {
            '@type': 'ContactPoint',
            telephone: '+373 680 33 007',
            contactType: 'Customer Service',
            email: 'stamat2000@gmail.com',
          },
        },
      }),
    },
  };
}

export default async function TermsPage({
  params,
}: {
  params: Promise<PageParams>; // Use Promise<PageParams>
}) {
  const resolvedParams = await params; // Await the Promise
  const t = await getTranslations({
    locale: resolvedParams.locale,
    namespace: 'Terms',
  });

  const translations = {
    title: t('title'),
    introduction: t('introduction'),
    contact: t('contact'),
    lastUpdated: t('lastUpdated'),
    sections: [
      {
        id: 'useOfSite',
        title: t('useOfSite.title'),
        text: t('useOfSite.description'),
      },
      {
        id: 'intellectualProperty',
        title: t('intellectualProperty.title'),
        text: t('intellectualProperty.description'),
      },
      {
        id: 'prohibited',
        title: t('prohibited.title'),
        text: t('prohibited.description'),
        items: [
          t('prohibited.illegal'),
          t('prohibited.spam'),
          t('prohibited.copy'),
        ],
      },
      {
        id: 'limitations',
        title: t('limitations.title'),
        text: t('limitations.description'),
      },
      {
        id: 'governingLaw',
        title: t('governingLaw.title'),
        text: t('governingLaw.description'),
      },
      {
        id: 'changes',
        title: t('changes.title'),
        text: t('changes.description'),
      },
    ],
  };

  return (
    <main className="min-h-screen bg-background py-12 px-4 md:px-0">
      <Container className="max-w-4xl mx-auto">
        <TermsContent translations={translations} />
      </Container>
    </main>
  );
}



=== app\terms\terms-content.tsx ===
// components/TermsContent.tsx
'use client';

import { Title } from '@/components/shared/title';
import { Card, CardContent } from '@/components/ui/card';
import {
  Globe,
  FileText,
  Lock,
  AlertTriangle,
  Shield,
  RefreshCw,
} from 'lucide-react';

interface TermsContentProps {
  translations: {
    title: string;
    introduction: string;
    contact: string;
    lastUpdated: string;
    sections: Array<{
      id: string;
      title: string;
      text: string;
      items?: string[];
    }>;
  };
}

export default function TermsContent({ translations }: TermsContentProps) {
  const icons = {
    useOfSite: <Globe className="w-6 h-6 text-primary" />,
    intellectualProperty: <FileText className="w-6 h-6 text-primary" />,
    prohibited: <Lock className="w-6 h-6 text-primary" />,
    limitations: <AlertTriangle className="w-6 h-6 text-primary" />,
    governingLaw: <Shield className="w-6 h-6 text-primary" />,
    changes: <RefreshCw className="w-6 h-6 text-primary" />,
  };

  return (
    <>
      <Title
        text={translations.title}
        className="w-full !text-4xl font-bold mb-8 text-center animate-gradient-flow break-words"
      />

      <p className="text-muted-foreground text-center mb-12">
        {translations.introduction}
      </p>

      <div className="space-y-8">
        {translations.sections.map((section) => (
          <Card key={section.id} id={section.id} className="shadow-md">
            <CardContent className="p-6 space-y-4">
              <div className="flex items-center gap-3">
                {icons[section.id as keyof typeof icons]}
                <h2 className="text-2xl font-semibold">{section.title}</h2>
              </div>
              <p className="text-muted-foreground">{section.text}</p>
              {section.items && (
                <ul className="list-disc pl-6 space-y-1 text-muted-foreground">
                  {section.items.map((item, i) => (
                    <li key={i}>{item}</li>
                  ))}
                </ul>
              )}
            </CardContent>
          </Card>
        ))}
      </div>

      <p className="mt-12 text-center text-sm text-muted-foreground">
        {translations.contact}
      </p>

      <p className="mt-4 text-center text-xs text-muted-foreground">
        {translations.lastUpdated}: 22 August 2025
      </p>
    </>
  );
}



=== components\shared\cart-drawer.tsx ===
// components/shared/cart-drawer.tsx
'use client';

import {
  Drawer,
  DrawerTrigger,
  DrawerContent,
  DrawerHeader,
  DrawerTitle,
  DrawerFooter,
  DrawerClose,
} from '@/components/ui/drawer';
import { Button } from '@/components/ui/button';
import Image from 'next/image';
import { useState } from 'react';
import { useCartStore } from '@/store/cart-store';
import { ShoppingCart } from 'lucide-react';
import router from 'next/router';

export default function CartDrawer() {
  const { items, removeItem, clear } = useCartStore();
  const [isSubmitting, setIsSubmitting] = useState(false);
  const [comment, setComment] = useState('');

  const totalItems = items.reduce((sum, i) => sum + i.quantity, 0);
  const totalPrice = items.reduce((sum, i) => sum + i.price * i.quantity, 0);

  const handleSubmit = async () => {
    if (!items.length || isSubmitting) return;
    setIsSubmitting(true);

    try {
      const payload = {
        items: items.map((i) => ({
          productId: i.id,
          qty: i.quantity,
        })),
        comment,
      };

      const res = await fetch('/api/order', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(payload),
      });

      if (!res.ok) {
        console.error(await res.text());
        alert('–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑');
        return;
      }

      clear();
      setComment('');
      alert('–ó–∞–∫–∞–∑ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω. –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏.');
      window.location.replace('/my-orders');
    } catch (e) {
      console.error(e);
      alert('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–∫–∞–∑–∞');
    } finally {
      setIsSubmitting(false);
    }
  };

  return (
    <Drawer>
      <DrawerTrigger asChild>
        <Button variant="outline">
          <ShoppingCart />
          –ö–æ—Ä–∑–∏–Ω–∞ ({totalItems})
        </Button>
      </DrawerTrigger>

      <DrawerContent className="max-h-[80vh]">
        <DrawerHeader>
          <DrawerTitle>–ö–æ—Ä–∑–∏–Ω–∞</DrawerTitle>
        </DrawerHeader>

        <div className="px-4 flex flex-col gap-3 overflow-y-auto max-h-[55vh]">
          {!items.length && (
            <p className="text-sm text-muted-foreground md:text-center">
              –ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞.
            </p>
          )}

          {items.map((item) => (
            <div
              key={item.id}
              className="flex items-center justify-between gap-3 border rounded-md p-2"
            >
              <div className="flex items-center gap-3">
                {item.image && (
                  <Image
                    src={`/${item.image.replace('public/', '')}`}
                    width={60}
                    height={60}
                    className="rounded-md object-cover"
                    alt=""
                  />
                )}
                <div>
                  <div className="text-sm font-medium">{`Souvenir ${item.number}`}</div>
                  <div className="text-xs text-muted-foreground">
                    –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: {item.quantity}
                  </div>
                  <div className="text-xs text-primary font-semibold">
                    {item.price} √ó {item.quantity} ={' '}
                    {item.price * item.quantity} MDL
                  </div>
                </div>
              </div>

              <Button
                variant="ghost"
                size="icon"
                onClick={() => removeItem(item.id)}
              >
                ‚úï
              </Button>
            </div>
          ))}
        </div>

        <div className="px-4 mt-3">
          <textarea
            className="w-full text-sm border rounded-md p-2 bg-background"
            placeholder="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –∑–∞–∫–∞–∑—É (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)"
            value={comment}
            onChange={(e) => setComment(e.target.value)}
          />
        </div>

        <DrawerFooter>
          <div className="flex flex-col text-sm text-muted-foreground gap-1 w-full">
            <div className="flex justify-between">
              <span>–í—Å–µ–≥–æ –ø–æ–∑–∏—Ü–∏–π:</span>
              <span>{totalItems}</span>
            </div>
            <div className="flex justify-between font-semibold text-primary">
              <span>–ò—Ç–æ–≥–æ–≤–∞—è —Å—É–º–º–∞:</span>
              <span>{totalPrice} MDL</span>
            </div>
          </div>

          <div className="flex flex-col md:flex-row justify-center gap-2">
            <Button
              disabled={!items.length || isSubmitting}
              onClick={handleSubmit}
            >
              {isSubmitting ? '–û—Ç–ø—Ä–∞–≤–∫–∞...' : '–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑'}
            </Button>

            <DrawerClose asChild>
              <Button variant="outline">–ó–∞–∫—Ä—ã—Ç—å</Button>
            </DrawerClose>
          </div>
        </DrawerFooter>
      </DrawerContent>
    </Drawer>
  );
}



=== components\shared\catalog.tsx ===
'use client';

import { Container } from '@/components/shared/container';
import { Title } from '@/components/shared/title';
import ExampleBlock from '@/components/shared/example-block';
import { useTranslations } from 'next-intl';
import { Product } from '@prisma/client';
import { ProductCard } from './product-card';

interface CatalogProps {
  title: string;
  exampleProductNumber?: string;
  className?: string;
  products: Product[];
  modelUrls: Record<string, string>;
  prices?: {
    type: Product['type'];
    material: Product['material'];
    price: number;
  }[];
}

const Catalog: React.FC<CatalogProps> = ({
  title,
  exampleProductNumber,
  className,
  products,
  modelUrls,
  prices,
}) => {
  const t = useTranslations('Catalog');

  const exampleProduct = exampleProductNumber
    ? products.find((p) => p.number === exampleProductNumber) || null
    : null;

  const getPrice = (p: Product) => {
    if (!prices) return null;
    const match = prices.find(
      (x) => x.type === p.type && x.material === p.material
    );
    return match?.price ?? null;
  };

  return (
    <div className={className}>
      <Container>
        {exampleProduct && (
          <ExampleBlock
            key={exampleProduct.id}
            souvenir={{
              number: exampleProduct.number,
              image: exampleProduct.image,
              country: exampleProduct.country,
              type: exampleProduct.type.toLowerCase(),
            }}
            reverse={false}
            className="my-6 md:my-12"
            modelUrl={modelUrls[exampleProduct.type.toLowerCase()] || ''}
          />
        )}

        <hr className="my-12" />

        <div className="flex justify-center w-full h-full">
          <Title
            text={title}
            className="text-[28px] md:text-6xl font-extrabold leading-tight animate-gradient-flow text-center"
          />
        </div>

        <div className="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 my-8 px-4 md:px-0">
          {products.map((product) => (
            <ProductCard
              key={product.id}
              product={product}
              modelUrls={modelUrls}
              getPrice={getPrice}
            />
          ))}
        </div>
      </Container>
    </div>
  );
};

export default Catalog;



=== components\shared\container.tsx ===
import { cn } from '@/lib/utils';
import React from 'react';

interface Props {
  className?: string;
}

export const Container: React.FC<React.PropsWithChildren<Props>> = ({
  className,
  children,
}) => {
  return (
    <div className={cn('mx-auto max-w-screen-xl', className)}>{children}</div>
  );
};



=== components\shared\example-block-skeleton.tsx ===
'use client';

import { Skeleton } from '@/components/ui/skeleton';
import { cn } from '@/lib/utils';

interface ExampleBlockSkeletonProps {
  reverse?: boolean;
  className?: string;
}

export const ExampleBlockSkeleton: React.FC<ExampleBlockSkeletonProps> = ({
  reverse = false,
  className,
}) => {
  return (
    <div className={cn('mx-4 md:mx-0', className)}>
      <div
        className={cn(
          'relative flex flex-col md:flex-row items-center justify-between md:w-full border rounded-lg shadow-md p-6 md:p-10',
          reverse ? 'md:flex-row-reverse' : ''
        )}
        style={{ backgroundColor: 'var(--color-border)' }}
      >
        {/* –¢–µ–∫—Å—Ç–æ–≤—ã–π –±–ª–æ–∫ */}
        <div className="flex flex-col items-center md:items-start justify-center md:w-2/3 gap-4 my-8">
          <Skeleton
            className="h-8 w-48"
            style={{ backgroundColor: 'var(--color-border)' }}
          />
          <Skeleton
            className="h-6 w-64"
            style={{ backgroundColor: 'var(--color-border)' }}
          />
          <Skeleton
            className="h-4 w-40"
            style={{ backgroundColor: 'var(--color-border)' }}
          />
        </div>

        {/* –ö–∞—Ä—Ç–∏–Ω–∫–∞ —Ç–æ–≤–∞—Ä–∞ */}
        <Skeleton
          className="w-60 h-60 md:w-72 md:h-72 rounded-md"
          style={{ backgroundColor: 'var(--color-border)' }}
        />
      </div>
    </div>
  );
};



=== components\shared\example-block.tsx ===
/* eslint-disable @typescript-eslint/no-explicit-any */
/* eslint-disable @next/next/no-img-element */
'use client';
import * as React from 'react';
import {
  Drawer,
  DrawerTrigger,
  DrawerContent,
  DrawerHeader,
  DrawerTitle,
  DrawerFooter,
  DrawerClose,
} from '@/components/ui/drawer';
import { Button } from '@/components/ui/button';
import { cn } from '@/lib/utils';
import { Souvenir } from '@/types';
import VantaFogBackground from '../ui/vanta-background';
import Scene from '../scene';
import { useTranslations } from 'next-intl';
import { ExampleBlockSkeleton } from './example-block-skeleton';

interface ExampleBlockProps {
  souvenir: any;
  reverse?: boolean;
  className?: string;
  isLoading?: boolean;
  modelUrl: string; // New prop for the Dropbox temporary URL
}

interface SceneSettings {
  modelPath: string;
  scale: [number, number, number];
  objectPosition: [number, number, number];
  cameraPosition: [number, number, number];
  directionalLightIntensity: number;
  environmentPreset: string;
}

const ExampleBlock: React.FC<ExampleBlockProps> = ({
  souvenir,
  reverse = false,
  className,
  isLoading = false,
  modelUrl, // Receive the Dropbox URL
}) => {
  const t = useTranslations('ExampleBlock');

  if (isLoading) {
    return <ExampleBlockSkeleton reverse={reverse} className={className} />;
  }

  // Define scene settings based on souvenir type
  const sceneSettings: Record<string, SceneSettings> = {
    magnet: {
      modelPath: modelUrl, // Use the passed Dropbox URL
      scale: [5, 5, 5],
      objectPosition: [0, -1.5, 0],
      cameraPosition: [0, 0, 5],
      directionalLightIntensity: 10,
      environmentPreset: 'city',
    },
    plate: {
      modelPath: modelUrl, // Use the passed Dropbox URL
      scale: [3, 3, 3],
      objectPosition: [0, 0, 0],
      cameraPosition: [0, 0, 8],
      directionalLightIntensity: 10,
      environmentPreset: 'city',
    },
  };

  const settings = sceneSettings[souvenir.type] || sceneSettings.magnet;

  return (
    <Drawer>
      <DrawerTrigger asChild>
        <div className={cn('mx-4 md:mx-0 group', className)}>
          <VantaFogBackground className="shadow-md hover:shadow-lg transition cursor-pointer rounded-lg border">
            <div
              className={cn(
                'relative flex flex-col md:flex-row',
                reverse ? 'md:flex-row-reverse' : '',
                'items-center justify-between md:w-full'
              )}
              role="button"
              tabIndex={0}
              onKeyDown={(e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                  e.preventDefault();
                }
              }}
            >
              <div className="relative flex flex-col md:flex-row w-full">
                <div className="flex flex-col items-center md:items-start justify-center md:ml-12 md:w-2/3 my-8 mx-2">
                  <span className="text-2xl md:text-3xl font-semibold text-white mb-4 text-center drop-shadow">
                    {t('try_product')}
                  </span>
                  <ul className="text-center md:text-left">
                    <li className="flex items-start gap-3 text-md md:text-lg text-white dark:text-gray-200 drop-shadow">
                      <span className="text-blue-400">‚Ä¢</span>
                      {t('scan_qr')}
                    </li>
                    <li className="flex items-start gap-3 text-md md:text-lg text-white dark:text-gray-200 drop-shadow">
                      <span className="text-blue-400">‚Ä¢</span>
                      {t('hold_camera')}
                    </li>
                  </ul>
                </div>
                <img
                  src={`/examples/${souvenir.type}.png`}
                  alt={souvenir.name ?? '–¢–æ–≤–∞—Ä'}
                  className={cn(
                    'w-60 h-60 md:w-70 md:h-70 object-contain mx-auto drop-shadow group-hover:scale-105 transition duration-300 ease-in-out',
                    'md:absolute md:top-1/2 md:-translate-y-1/2 md:right-[-50rem]',
                    reverse ? 'md:right-[-2rem]' : 'md:left-[-2rem]'
                  )}
                />
              </div>
            </div>
          </VantaFogBackground>
        </div>
      </DrawerTrigger>

      <DrawerContent>
        <DrawerHeader>
          <DrawerTitle className="text-2xl font-bold text-center">
            {t('souvenir_number', { number: souvenir.number })}
          </DrawerTitle>
        </DrawerHeader>
        <div className="flex items-center justify-center h-[75vh]">
          <div
            className="canvas-wrapper w-full h-full"
            onPointerDown={(e) => e.stopPropagation()}
          >
            <Scene
              modelPath={settings.modelPath}
              scale={settings.scale}
              objectPosition={settings.objectPosition}
              cameraPosition={settings.cameraPosition}
              directionalLightIntensity={settings.directionalLightIntensity}
              environmentPreset={settings.environmentPreset}
            />
          </div>
        </div>
        <DrawerFooter>
          <DrawerClose asChild>
            <Button
              variant="outline"
              className="w-full sm:w-32 mx-auto cursor-pointer"
            >
              {t('close')}
            </Button>
          </DrawerClose>
        </DrawerFooter>
      </DrawerContent>
    </Drawer>
  );
};

export default ExampleBlock;



=== components\shared\footer.tsx ===
// components/shared/footer.tsx
'use client';
import React from 'react';
import { FaInstagram, FaTelegram } from 'react-icons/fa';
import { Container } from './container';
import { Soon } from './soon';
import { useTranslations } from 'next-intl';
import Link from 'next/link';

interface FooterProps {
  logo?: {
    url: string;
    src: string;
    alt: string;
    title: string;
  };
  description?: string;
  socialLinks?: Array<{
    icon: React.ReactElement;
    href: string;
    label: string;
  }>;
  legalLinks?: Array<{
    name: string;
    href: string;
  }>;
}

const defaultLogo = {
  url: '/',
  src: '/logo.svg',
  alt: 'logo',
  title: 'Starion Digital',
};

const defaultSocialLinks = [
  {
    icon: <FaInstagram className="size-5" />,
    href: 'https://www.instagram.com/magnetar_souvenir?igsh=MW5ka2QzMzJtOHMybw==',
    label: 'Instagram',
  },
  {
    icon: <FaTelegram className="size-5" />,
    href: 'https://t.me/Viar_tech',
    label: 'Telegram',
  },
];

const defaultLegalLinks = [
  { name: 'Terms and Conditions', href: '/terms' },
  { name: 'Privacy Policy', href: '/privacy-policy' },
];

const Footer: React.FC<FooterProps> = ({
  logo = defaultLogo,
  description = '',
  socialLinks = defaultSocialLinks,
  legalLinks = defaultLegalLinks,
}) => {
  const t = useTranslations('Footer');
  const tCategories = useTranslations('Categories');

  const sections = [
    {
      title: t('product'),
      links: [
        { id: 1, name: tCategories('magnet.name'), href: '/magnets/catalog' },
        { id: 2, name: tCategories('plate.name'), href: '/plates/catalog' },
        { id: 3, name: tCategories('card.name'), href: '#' },
        { id: 4, name: tCategories('statue.name'), href: '#' },
        { id: 5, name: tCategories('ball.name'), href: '#' },
      ],
    },
    {
      title: t('company'),
      links: [{ id: 6, name: t('contacts'), href: '/contacts' }],
    },
  ];

  return (
    <footer className="w-full bg-background border-t pt-10">
      <Container>
        <div className="flex w-full flex-col justify-between gap-10 lg:flex-row lg:items-start lg:text-left">
          <div className="flex w-full flex-col justify-between gap-6 items-center lg:items-start">
            <Link href="/">
              <div className="flex items-center gap-2">
                {/* <a href={logo.url} aria-label={logo.title}>
                <img
                  src={logo.src}
                  alt={logo.alt}
                  title={logo.title}
                  className="h-8"
                />
              </a> */}
                <h2 className="text-xl font-semibold">{logo.title}</h2>
              </div>
            </Link>
            <p className="text-muted-foreground text-sm text-center lg:text-left">
              {description}
            </p>
            <ul className="text-muted-foreground flex items-center space-x-6">
              {socialLinks.map((social, idx) => (
                <li
                  key={idx}
                  className="hover:text-primary hover:scale-110 transition duration-200 font-medium"
                >
                  <a
                    href={social.href}
                    aria-label={social.label}
                    rel="noopener noreferrer"
                    target="_blank"
                  >
                    {social.icon}
                  </a>
                </li>
              ))}
            </ul>
          </div>
          <div className="grid w-full gap-6 md:grid-cols-2 lg:gap-20">
            {sections.map((section, sectionIdx) => (
              <div
                key={sectionIdx}
                className="flex flex-col items-center md:items-start"
              >
                <h3 className="mb-4 font-bold">{section.title}</h3>
                <ul className="text-muted-foreground space-y-3 text-sm text-center md:text-start">
                  {section.links.map((link, linkIdx) => {
                    const isSoon = link.id && [3, 4, 5].includes(link.id);
                    return (
                      <li
                        key={link.id || linkIdx}
                        className={
                          isSoon
                            ? 'opacity-50 cursor-not-allowed'
                            : 'hover:text-primary font-medium'
                        }
                      >
                        <Link
                          href={isSoon ? '#' : link.href}
                          tabIndex={isSoon ? -1 : 0}
                          aria-disabled={isSoon ? 'true' : 'false'}
                          className={isSoon ? 'pointer-events-none' : ''}
                        >
                          {link.name}
                          {isSoon && <Soon className="ml-2" />}
                        </Link>
                      </li>
                    );
                  })}
                </ul>
              </div>
            ))}
          </div>
        </div>
        <div className="text-muted-foreground mt-8 flex flex-col justify-between gap-4 border-t py-8 text-xs font-medium md:flex-row md:items-center md:gap-4">
          <p className="order-2 md:order-1 text-center md:text-start">
            {t('copyright')}
          </p>
          <ul className="order-1 md:order-2 flex flex-wrap justify-center gap-4">
            {legalLinks.map((link, idx) => (
              <li key={idx}>
                <Link
                  href={link.href}
                  className="hover:text-primary transition"
                >
                  {link.name}
                </Link>
              </li>
            ))}
          </ul>
        </div>
      </Container>
    </footer>
  );
};

export { Footer };



=== components\shared\header-skeleton.tsx ===
'use client';

import { Container } from './container';
import { Skeleton } from '@/components/ui/skeleton';

export const HeaderSkeleton = () => {
  return (
    <header className="border-b border-border sticky top-0 z-10 backdrop-blur-xl">
      <Container className="flex items-center justify-between py-4 sm:py-6 gap-4 relative">
        {/* –õ–æ–≥–æ */}
        <Skeleton
          className="h-6 w-32 sm:h-8 sm:w-40"
          style={{ backgroundColor: 'var(--color-border)' }}
        />

        {/* Desktop Navigation */}
        <div className="hidden sm:flex items-center gap-4">
          <Skeleton
            className="h-6 w-12"
            style={{ backgroundColor: 'var(--color-border)' }}
          />
          <Skeleton
            className="h-6 w-20"
            style={{ backgroundColor: 'var(--color-border)' }}
          />
          <Skeleton
            className="h-6 w-20"
            style={{ backgroundColor: 'var(--color-border)' }}
          />
          <Skeleton
            className="h-6 w-8"
            style={{ backgroundColor: 'var(--color-border)' }}
          />{' '}
          {/* language */}
          <Skeleton
            className="h-6 w-8"
            style={{ backgroundColor: 'var(--color-border)' }}
          />{' '}
          {/* theme toggle */}
        </div>

        {/* Burger Menu (mobile) */}
        <div className="sm:hidden">
          <Skeleton className="h-8 w-8 rounded-md" />
        </div>
      </Container>
    </header>
  );
};



=== components\shared\header.tsx ===
'use client';

import { cn } from '@/lib/utils';
import { Container } from './container';
import {
  NavigationMenu,
  NavigationMenuContent,
  NavigationMenuItem,
  NavigationMenuLink,
  NavigationMenuList,
  NavigationMenuTrigger,
  navigationMenuTriggerStyle,
} from '@/components/ui/navigation-menu';
import { Sheet, SheetContent, SheetTrigger } from '@/components/ui/sheet';
import {
  Accordion,
  AccordionContent,
  AccordionItem,
  AccordionTrigger,
} from '@/components/ui/accordion';
import { Button } from '@/components/ui/button';
import Link from 'next/link';
import { Globe, Menu } from 'lucide-react';
import * as React from 'react';
import { ThemeToggleButton } from './theme-toggle-button';
import ReactCountryFlag from 'react-country-flag';
import { Soon } from './soon';
import { DialogTitle } from '../ui/dialog';
import { usePathname } from 'next/navigation';
import { useTranslations } from 'next-intl';
import { useLocaleStore } from '@/store/useLocaleStore';
import { HeaderSkeleton } from './header-skeleton';
import CartDrawer from './cart-drawer';
import { toast } from 'sonner';
import { usePartner } from '@/app/providers/partner-provider';

interface Props {
  className?: string;
}

const categories = [
  { title: 'magnet', href: '/magnets/catalog' },
  { title: 'plate', href: '/plates/catalog' },
  { title: 'card', href: '/cards/catalog' },
  { title: 'statue', href: '#' },
  { title: 'ball', href: '#' },
];

const languages = [
  { full: '–†—É—Å—Å–∫–∏–π', short: 'ru' },
  { full: 'English', short: 'en' },
  { full: 'Rom√¢nƒÉ', short: 'ro' },
];

export const Header: React.FC<Props> = ({ className }) => {
  const [mounted, setMounted] = React.useState(false);
  const pathname = usePathname();
  const t = useTranslations('Header');
  const tCategories = useTranslations('Categories');
  const setLocale = useLocaleStore((state) => state.setLocale);

  const { isPartner } = usePartner();

  React.useEffect(() => setMounted(true), []);
  if (!mounted) return <HeaderSkeleton />;

  const logout = async () => {
    await fetch('/api/logout', { method: 'POST' });
    localStorage.removeItem('cart-storage');
    window.location.reload();
    toast.success('–í—ã –≤—ã—à–ª–∏');
  };

  const isActive = (href: string) => {
    // Remove locale prefix (e.g., /en, /ru) from pathname for comparison
    const normalizedPathname = pathname.replace(/^\/[a-z]{2}(\/|$)/, '/');
    // Handle root path
    if (href === '/') {
      return normalizedPathname === '/' || normalizedPathname === '';
    }
    // Check if the current pathname starts with the href or matches it
    return (
      normalizedPathname === href || normalizedPathname.startsWith(href + '/')
    );
  };

  const changeLocale = (newLocale: string) => {
    setLocale(newLocale);
    window.location.reload();
  };

  // Check if any category is active to highlight the Categories trigger
  const isAnyCategoryActive = categories.some((item) => isActive(item.href));

  return (
    <header
      className={cn(
        'border-b border-border sticky top-0 z-10 backdrop-blur-xl',
        className
      )}
    >
      <Container className="flex items-center justify-between py-4 sm:py-6 gap-4 relative">
        {/* Logo */}
        <div className="relative flex items-center justify-between w-full sm:w-auto">
          <Link href="/" className="hidden sm:flex items-center gap-2">
            <h1 className="text-2xl sm:text-3xl uppercase font-black text-foreground">
              {t('logo')}
            </h1>
          </Link>
          <Link
            href="/"
            className="absolute left-1/2 -translate-x-1/2 sm:hidden flex items-center gap-2"
          >
            <h1 className="text-lg uppercase font-black text-foreground">
              {t('logo')}
            </h1>
          </Link>

          {/* Burger Menu for Mobile */}
          <Sheet>
            <SheetTrigger asChild>
              <Button
                variant="ghost"
                size="icon"
                className="sm:hidden ml-auto mr-3 text-foreground hover:bg-accent hover:text-accent-foreground"
                aria-label={t('open_menu')}
              >
                <Menu size={24} />
              </Button>
            </SheetTrigger>
            <SheetContent
              side="right"
              className="w-[80vw] max-w-[400px] h-full rounded-none bg-background text-card-foreground overflow-scroll"
            >
              <DialogTitle className="hidden">{t('menu')}</DialogTitle>
              <div className="flex flex-col gap-4 p-4 mt-4">
                {/* Home link */}
                <Link
                  href="/"
                  className={cn(
                    'font-semibold text-lg',
                    isActive('/') && 'text-primary font-bold'
                  )}
                >
                  {t('home')}
                </Link>

                {/* Categories */}
                <Accordion type="single" collapsible className="w-full">
                  <AccordionItem value="categories">
                    <AccordionTrigger
                      className={cn(
                        'font-semibold text-lg',
                        isAnyCategoryActive && 'text-primary font-bold'
                      )}
                    >
                      {t('categories')}
                    </AccordionTrigger>
                    <AccordionContent>
                      <ul className="flex flex-col first:border-t">
                        {categories.map((item, idx) => {
                          const isSoon = idx >= 2;
                          return (
                            <li key={item.title}>
                              <Link
                                href={isSoon ? '#' : item.href}
                                className={cn(
                                  'block p-2 hover:bg-accent border-b',
                                  isSoon &&
                                    'pointer-events-none opacity-50 cursor-not-allowed',
                                  isActive(item.href) &&
                                    'text-primary font-bold'
                                )}
                              >
                                <div className="font-bold my-1 flex items-center gap-2">
                                  {tCategories(`${item.title}.name`)}
                                  {isSoon && <Soon />}
                                </div>
                                <p className="text-sm text-muted-foreground">
                                  {tCategories(`${item.title}.description`)}
                                </p>
                              </Link>
                            </li>
                          );
                        })}
                      </ul>
                    </AccordionContent>
                  </AccordionItem>
                </Accordion>

                {/* Contacts */}
                <Link
                  href="/contacts"
                  className={cn(
                    'font-semibold text-lg',
                    isActive('/contacts') && 'text-primary font-bold'
                  )}
                >
                  {t('contacts')}
                </Link>

                {/* Languages */}
                <Accordion type="single" collapsible className="w-full">
                  <AccordionItem value="languages">
                    <AccordionTrigger className="font-semibold text-lg">
                      {t('language')}
                    </AccordionTrigger>
                    <AccordionContent>
                      <ul className="flex flex-col first:border-t">
                        {languages.map((lang) => (
                          <li key={lang.short}>
                            <button
                              onClick={() => changeLocale(lang.short)}
                              className="block px-2 py-4 hover:bg-accent border-b w-full text-left"
                            >
                              <div className="flex items-center font-medium">
                                <ReactCountryFlag
                                  countryCode={
                                    lang.short === 'en' ? 'us' : lang.short
                                  }
                                  svg
                                  className="mr-2"
                                />
                                {lang.full}
                              </div>
                            </button>
                          </li>
                        ))}
                      </ul>
                    </AccordionContent>
                  </AccordionItem>
                </Accordion>

                {/* Theme toggle */}
                <div className="flex justify-start">
                  <ThemeToggleButton />
                </div>
              </div>
            </SheetContent>
          </Sheet>
        </div>

        {/* Desktop Navigation */}
        <div className="hidden sm:flex items-center gap-2 flex-shrink-0">
          <NavigationMenu viewport={false}>
            <NavigationMenuList>
              {/* Home */}
              <NavigationMenuItem>
                <NavigationMenuLink
                  asChild
                  className={cn(
                    navigationMenuTriggerStyle(),
                    isActive('/') && 'text-primary font-bold'
                  )}
                >
                  <Link href="/" className="font-semibold bg-transparent">
                    {t('home')}
                  </Link>
                </NavigationMenuLink>
              </NavigationMenuItem>

              {/* Categories */}
              <NavigationMenuItem>
                <NavigationMenuTrigger
                  className={cn(
                    'font-semibold bg-transparent transition-colors duration-200',
                    isAnyCategoryActive && 'text-primary font-bold'
                  )}
                >
                  {t('categories')}
                </NavigationMenuTrigger>
                <NavigationMenuContent className="bg-background/70 backdrop-blur-xl border border-border rounded-md shadow-lg">
                  <ul className="grid w-[400px] gap-2 md:w-[500px] md:grid-cols-2 lg:w-[600px] p-2">
                    {categories.map((item, idx) => {
                      const isSoon = idx >= 2;
                      return (
                        <li key={item.title}>
                          <NavigationMenuLink asChild>
                            <Link
                              href={isSoon ? '#' : item.href}
                              className={cn(
                                'block rounded-md p-3 bg-transparent transition-colors duration-200',
                                isSoon &&
                                  'pointer-events-none opacity-50 cursor-not-allowed',
                                isActive(item.href) &&
                                  'bg-accent text-primary font-bold'
                              )}
                            >
                              <div className="font-[950] text-primary flex items-center gap-2">
                                {tCategories(`${item.title}.name`)}
                                {isSoon && <Soon />}
                              </div>
                              <p className="text-sm text-muted-foreground">
                                {tCategories(`${item.title}.description`)}
                              </p>
                            </Link>
                          </NavigationMenuLink>
                        </li>
                      );
                    })}
                  </ul>
                </NavigationMenuContent>
              </NavigationMenuItem>

              {/* Contacts */}
              <NavigationMenuItem>
                <NavigationMenuLink
                  asChild
                  className={cn(
                    navigationMenuTriggerStyle(),
                    isActive('/contacts') && 'text-primary font-bold'
                  )}
                >
                  <Link
                    href="/contacts"
                    className="font-semibold bg-transparent"
                  >
                    {t('contacts')}
                  </Link>
                </NavigationMenuLink>
              </NavigationMenuItem>

              {/* Languages */}
              <NavigationMenuItem>
                <NavigationMenuTrigger className="bg-transparent transition-colors duration-200">
                  <Globe className="mr-2 h-4 w-4" />
                </NavigationMenuTrigger>
                <NavigationMenuContent>
                  <ul className="grid w-[100px] gap-2">
                    {languages.map((lang) => (
                      <li key={lang.short}>
                        <NavigationMenuLink asChild>
                          <button
                            onClick={() => changeLocale(lang.short)}
                            className="block rounded-md p-2 hover:bg-accent w-full text-left"
                          >
                            <div className="flex items-center font-medium">
                              <ReactCountryFlag
                                countryCode={
                                  lang.short === 'en' ? 'us' : lang.short
                                }
                                svg
                                className="mr-2"
                              />
                              {lang.full}
                            </div>
                          </button>
                        </NavigationMenuLink>
                      </li>
                    ))}
                  </ul>
                </NavigationMenuContent>
              </NavigationMenuItem>

              {/* Theme toggle */}
              <NavigationMenuItem>
                <ThemeToggleButton />
              </NavigationMenuItem>
            </NavigationMenuList>
          </NavigationMenu>

          {isPartner && (
            <>
              <CartDrawer />
              <Link href="/my-orders">
                <Button variant="outline">–ú–æ–∏ –∑–∞–∫–∞–∑—ã</Button>
              </Link>
            </>
          )}
          {isPartner ? (
            <Button variant="destructive" onClick={logout}>
              –í—ã–π—Ç–∏
            </Button>
          ) : (
            <Link href="/login">
              <Button variant="outline">–Ø –ø–∞—Ä—Ç–Ω—ë—Ä</Button>
            </Link>
          )}
        </div>
      </Container>
    </header>
  );
};



=== components\shared\not-found-content.tsx ===
'use client';

import { motion } from 'framer-motion';
import { Title } from '@/components/shared/title';
import { Button } from '@/components/ui/button';
import Link from 'next/link';
import { HomeIcon } from 'lucide-react';

interface NotFoundContentProps {
  translations: {
    title: string;
    description: string;
    home_button: string;
  };
}

export default function NotFoundContent({
  translations,
}: NotFoundContentProps) {
  return (
    <motion.div
      initial={{ opacity: 0, y: -50 }}
      animate={{ opacity: 1, y: 0 }}
      transition={{ duration: 0.8, ease: 'easeOut' }}
    >
      <Title
        text={translations.title}
        className="w-full !text-4xl md:!text-6xl font-extrabold mb-8 animate-gradient-flow"
      />
      <motion.p
        className="text-md md:text-lg text-muted-foreground mb-8 max-w-2xl mx-auto"
        initial={{ opacity: 0 }}
        animate={{ opacity: 1 }}
        transition={{ duration: 0.8, ease: 'easeOut', delay: 0.2 }}
      >
        {translations.description}
      </motion.p>
      <motion.div
        initial={{ opacity: 0, scale: 0.95 }}
        animate={{ opacity: 1, scale: 1 }}
        transition={{ duration: 0.8, ease: 'easeOut', delay: 0.4 }}
      >
        <Link href="/">
          <Button
            variant="default"
            size="lg"
            className="flex items-center gap-2 mx-auto cursor-pointer"
          >
            <HomeIcon className="w-5 h-5" />
            {translations.home_button}
          </Button>
        </Link>
      </motion.div>
    </motion.div>
  );
}



=== components\shared\product-card.tsx ===
'use client';

import {
  Dialog,
  DialogTrigger,
  DialogContent,
  DialogTitle,
} from '@/components/ui/dialog';
import Tilt from 'react-parallax-tilt';
import Image from 'next/image';
import { useState, useMemo } from 'react';
import { Product } from '@prisma/client';
import { useCartStore } from '@/store/cart-store';
import { usePartner } from '@/app/providers/partner-provider';
import { Button } from '../ui/button';
import { useTranslations } from 'next-intl';

interface Props {
  product: Product;
  modelUrls: Record<string, string>;
  getPrice: (p: Product) => number | null;
}

export function ProductCard({ product, modelUrls, getPrice }: Props) {
  const [open, setOpen] = useState(false);
  const [quantity, setQuantity] = useState(1);
  const { isPartner } = usePartner();
  const addItem = useCartStore((s) => s.addItem);
  const t = useTranslations('Catalog');

  const rawPrice = getPrice(product);
  const price = rawPrice ?? 0;

  const imgSrc = '/' + product.image.replace(/^public\//, '');

  const total = price * quantity;

  const tiltImage = useMemo(
    () => (
      <Tilt scale={1.05} tiltMaxAngleX={15} tiltMaxAngleY={15} className="mb-4">
        <Image
          width={800}
          height={800}
          src={imgSrc}
          alt={product.number}
          className="w-128 h-128 object-contain"
        />
      </Tilt>
    ),
    [imgSrc, product.number]
  );

  const handleQuantity = (v: number) => setQuantity(Math.max(1, v));

  return (
    <Dialog open={open} onOpenChange={setOpen}>
      <DialogTrigger asChild>
        <div className="border hover:bg-popover/50 rounded-lg p-4 flex flex-col items-center hover:scale-102 transition-all cursor-pointer">
          <Image
            width={500}
            height={500}
            src={imgSrc}
            alt={product.number}
            className="w-64 h-64 object-contain mb-2"
          />

          <div className="font-semibold">
            {t('number', { number: product.number })}
          </div>

          {isPartner && (
            <div className="text-sm font-bold text-primary">{price} MDL</div>
          )}

          <div className="text-xs text-primary/60">
            {product.country.toUpperCase()}
          </div>
        </div>
      </DialogTrigger>

      <DialogContent showCloseButton>
        <DialogTitle>
          {t('type')} ‚Ññ{product.number}
        </DialogTitle>

        <div className="flex flex-col items-center">
          {tiltImage}
          <div className="font-semibold text-lg mb-2">
            {t('number', { number: product.number })}
          </div>
          <div className="text-xs text-primary/60 mb-2">
            {product.country.toUpperCase()}
          </div>
        </div>

        {isPartner && (
          <div className="flex flex-col justify-between w-full">
            <div className="text-lg font-bold text-center mb-2">
              {total} MDL
            </div>

            <div className="flex items-center gap-3 mb-4 mx-auto">
              <Button
                variant="outline"
                onClick={() => handleQuantity(quantity - 1)}
              >
                -
              </Button>

              <input
                type="number"
                min={1}
                value={quantity}
                onChange={(e) => handleQuantity(parseInt(e.target.value) || 1)}
                className="w-16 text-center border rounded py-1"
              />

              <Button
                variant="outline"
                onClick={() => handleQuantity(quantity + 1)}
              >
                +
              </Button>
            </div>

            <Button
              onClick={() => {
                addItem({ ...product, price }, quantity);
                setOpen(false);
                setQuantity(1);
              }}
              className="py-2 transition-all"
            >
              {t('add_to_order')}
            </Button>
          </div>
        )}
      </DialogContent>
    </Dialog>
  );
}



=== components\shared\soon.tsx ===
// components/shared/soon.tsx
'use client';

import { Badge } from '@/components/ui/badge';
import { useTranslations } from 'next-intl';

export const Soon = ({ className }: { className?: string }) => {
  const t = useTranslations('Header');

  return (
    <Badge
      variant="secondary"
      className={`text-xs font-medium px-2 py-1 rounded-full shadow-2xl ${className}`}
    >
      {t('soon')}
    </Badge>
  );
};



=== components\shared\theme-toggle-button.tsx ===
'use client';

import * as React from 'react';
import { Moon, Sun } from 'lucide-react';
import { useTheme } from 'next-themes';
import { useTranslations } from 'next-intl';

import { Button } from '@/components/ui/button';
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuTrigger,
} from '@/components/ui/dropdown-menu';

export function ThemeToggleButton() {
  const { setTheme } = useTheme();
  const t = useTranslations('ThemeToggle');

  return (
    <DropdownMenu>
      <DropdownMenuTrigger asChild>
        <Button variant="outline" size="icon">
          <Sun className="h-[1.2rem] w-[1.2rem] scale-100 rotate-0 transition-all dark:scale-0 dark:-rotate-90" />
          <Moon className="absolute h-[1.2rem] w-[1.2rem] scale-0 rotate-90 transition-all dark:scale-100 dark:rotate-0" />
          <span className="sr-only">{t('toggle')}</span>
        </Button>
      </DropdownMenuTrigger>
      <DropdownMenuContent align="end">
        <DropdownMenuItem onClick={() => setTheme('light')}>
          {t('light')}
        </DropdownMenuItem>
        <DropdownMenuItem onClick={() => setTheme('dark')}>
          {t('dark')}
        </DropdownMenuItem>
        <DropdownMenuItem onClick={() => setTheme('system')}>
          {t('system')}
        </DropdownMenuItem>
      </DropdownMenuContent>
    </DropdownMenu>
  );
}



=== components\shared\title.tsx ===
import clsx from 'clsx';
import React, { ReactNode } from 'react';

type TitleSize = 'xs' | 'sm' | 'md' | 'lg' | 'xl' | '2xl';

interface Props {
  size?: TitleSize;
  className?: string;
  text: ReactNode;
}

export const Title: React.FC<Props> = ({ text, size = 'sm', className }) => {
  const mapTagBySize = {
    xs: 'h5',
    sm: 'h4',
    md: 'h3',
    lg: 'h2',
    xl: 'h1',
    '2xl': 'h1',
  } as const;

  const mapClassNameBySize = {
    xs: 'text-[16px]',
    sm: 'text-[22px]',
    md: 'text-[26px]',
    lg: 'text-[32px]',
    xl: 'text-[40px]',
    '2xl': 'text-[48px]',
  } as const;

  return React.createElement(
    mapTagBySize[size],
    { className: clsx(mapClassNameBySize[size], className) },
    text
  );
};

