# üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

- ‚úÖ –û—Ç–∫–ª—é—á–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ Prisma –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ production (—Å–Ω–∏–∂–∞–µ—Ç overhead –Ω–∞ 20-30%)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è Order: `partnerId`, `status`, `createdAt`, –∫–æ–º–ø–æ–∑–∏—Ç–Ω—ã–π `partnerId+status`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è Realization: `partnerId`, `status`, `createdAt`
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –∑–∞–ø—Ä–æ—Å—ã –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `select` –≤–º–µ—Å—Ç–æ `include` (—Å–Ω–∏–∂–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö –Ω–∞ 40-60%)

### 2. Next.js

- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω ISR (Incremental Static Regeneration) –¥–ª—è –∫–∞—Ç–∞–ª–æ–≥–æ–≤ –º–∞–≥–Ω–∏—Ç–æ–≤ –∏ —Ç–∞—Ä–µ–ª–æ–∫ (revalidate: 300 —Å–µ–∫)
- ‚úÖ –í–∫–ª—é—á–µ–Ω–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–º–ø–æ—Ä—Ç–æ–≤ –¥–ª—è –±–æ–ª—å—à–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ (lucide-react, recharts, radix-ui)

## üìã –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. **React Query / TanStack Query** (–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

**–ü—Ä–æ–±–ª–µ–º–∞**: –ú–Ω–æ–≥–æ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è fetch –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å React Query –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏

```bash
npm install @tanstack/react-query
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
- –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –§–æ–Ω–æ–≤–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI

### 2. **–í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª–∏–Ω–Ω—ã—Ö —Å–ø–∏—Å–∫–æ–≤** (–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

**–ü—Ä–æ–±–ª–µ–º–∞**: –í –∫–∞—Ç–∞–ª–æ–≥–µ –∏ —Å–ø–∏—Å–∫–∞—Ö –∑–∞–∫–∞–∑–æ–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ—Ç–Ω–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å react-window –∏–ª–∏ @tanstack/react-virtual

```bash
npm install @tanstack/react-virtual
```

**–ü—Ä–∏–º–µ–Ω–∏—Ç—å –∫**:

- `orders-management.tsx` - —Å–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤
- `magnets-catalog-content.tsx` - —Å–µ—Ç–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤
- `plates-catalog-content.tsx` - —Å–µ—Ç–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤

### 3. **Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è** (–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î –¥–ª—è –æ–¥–Ω–∏—Ö –∏ —Ç–µ—Ö –∂–µ –¥–∞–Ω–Ω—ã—Ö
**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è:

- –°–ø–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ (–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Ä–µ–¥–∫–æ)
- –¶–µ–Ω –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤ (–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Ä–µ–¥–∫–æ)
- –°–ø–∏—Å–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ (–ø–æ—á—Ç–∏ —Å—Ç–∞—Ç–∏—á–µ–Ω)

**–ü—Ä–∏–º–µ—Ä –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è**:

```typescript
// lib/cache.ts
import Redis from 'ioredis';

const redis = new Redis(process.env.REDIS_URL);

export async function getCachedOrFetch<T>(
  key: string,
  fetcher: () => Promise<T>,
  ttl: number = 300 // 5 –º–∏–Ω—É—Ç
): Promise<T> {
  const cached = await redis.get(key);
  if (cached) return JSON.parse(cached);

  const data = await fetcher();
  await redis.setex(key, ttl, JSON.stringify(data));
  return data;
}
```

### 4. **–ü–∞–≥–∏–Ω–∞—Ü–∏—è –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤** (–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

**–ü—Ä–æ–±–ª–µ–º–∞**: –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤—Å–µ –∑–∞–∫–∞–∑—ã/—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å—Ä–∞–∑—É
**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ `take` –∏ `skip`

**–ü—Ä–∏–º–µ—Ä**:

```typescript
// –í API
const page = Number(searchParams.get('page')) || 1;
const pageSize = 50;

const [orders, totalCount] = await Promise.all([
  prisma.order.findMany({
    skip: (page - 1) * pageSize,
    take: pageSize,
    // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
  }),
  prisma.order.count({ where: /* —É—Å–ª–æ–≤–∏—è */ }),
]);
```

### 5. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** (–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

**–ü—Ä–æ–±–ª–µ–º–∞**: –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ –ø–æ–ª–Ω–æ–º —Ä–∞–∑–º–µ—Ä–µ
**–†–µ—à–µ–Ω–∏–µ**:

- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Next.js Image component –≤–µ–∑–¥–µ
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é —á–µ—Ä–µ–∑ next.config.ts
- –î–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–º–µ—Ä—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ –∞—Ç—Ä–∏–±—É—Ç—ã (width, height)

### 6. **Debounce –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤** (–ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

**–ü—Ä–æ–±–ª–µ–º–∞**: –ö–∞–∂–¥–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç –Ω–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å debounce –¥–ª—è –∑–∞–¥–µ—Ä–∂–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤

```typescript
import { useDebouncedCallback } from 'use-debounce';

const debouncedSearch = useDebouncedCallback((value: string) => {
  performSearch(value);
}, 300);
```

### 7. **–°–∂–∞—Ç–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ API** (–ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å middleware –¥–ª—è gzip/brotli —Å–∂–∞—Ç–∏—è

```typescript
// middleware.ts
import { NextResponse } from 'next/server';

export function middleware(request: Request) {
  const response = NextResponse.next();
  response.headers.set('Content-Encoding', 'gzip');
  return response;
}
```

### 8. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** (–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã**:

- Vercel Analytics (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π)
- Prisma Accelerate (–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ connection pooling)
- New Relic –∏–ª–∏ DataDog –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### 9. **Code Splitting** (–ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç –¥–ª—è —Ç—è–∂—ë–ª—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```typescript
import dynamic from 'next/dynamic';

const SalesChart = dynamic(() => import('./sales-chart'), {
  loading: () => <div>–ó–∞–≥—Ä—É–∑–∫–∞...</div>,
  ssr: false, // –û—Ç–∫–ª—é—á–∏—Ç—å SSR –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
});
```

### 10. **Database Connection Pooling**

**–ü—Ä–æ–±–ª–µ–º–∞**: Prisma —Å–æ–∑–¥–∞—ë—Ç –º–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –∫ –ë–î
**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Prisma Accelerate –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å connection pooling

```env
DATABASE_URL="postgresql://user:password@host:5432/db?connection_limit=10&pool_timeout=20"
```

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è

1. **Time to First Byte (TTFB)**: < 200ms
2. **First Contentful Paint (FCP)**: < 1.8s
3. **Largest Contentful Paint (LCP)**: < 2.5s
4. **Total Blocking Time (TBT)**: < 200ms
5. **Cumulative Layout Shift (CLS)**: < 0.1

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –≤–Ω–µ–¥—Ä–µ–Ω–∏—è

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ (1-2 –¥–Ω—è):

1. ‚úÖ –ò–Ω–¥–µ–∫—Å—ã –ë–î (—É–∂–µ —Å–¥–µ–ª–∞–Ω–æ)
2. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ —Å select (—É–∂–µ —Å–¥–µ–ª–∞–Ω–æ)
3. –ü–∞–≥–∏–Ω–∞—Ü–∏—è –¥–ª—è —Å–ø–∏—Å–∫–æ–≤ –∑–∞–∫–∞–∑–æ–≤/—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–æ (1-2 –Ω–µ–¥–µ–ª–∏):

4. React Query –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
5. –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª–∏–Ω–Ω—ã—Ö —Å–ø–∏—Å–∫–æ–≤
6. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

### –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω–æ (1 –º–µ—Å—è—Ü):

7. Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
8. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
9. Code Splitting

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ (–ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏):

10. Database Connection Pooling
11. CDN –¥–ª—è —Å—Ç–∞—Ç–∏—á–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
12. –°–∂–∞—Ç–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ API

## üí° –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

–ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –≤—Å–µ—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π:

- **–°–∫–æ—Ä–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏**: -50-70%
- **–°–∫–æ—Ä–æ—Å—Ç—å –∫–∞—Ç–∞–ª–æ–≥–∞**: -30-40%
- **–ù–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –ë–î**: -60-80%
- **–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ API**: -40-60%
- **–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏**: -30-50%
